| Campo                    | Como calcular                                                                                                                                                                                                                                                       |
| ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `lecture_id`             | ID da aula (do Postgres `lecture.lecture_id`)                                                                                                                                                                                                                       |
| `subject_id`             | ID da disciplina (do Postgres `lecture.subject_id`)                                                                                                                                                                                                                 |
| `total_students`         | Número de `user_id` únicos na collection `traces` que tenham eventos relacionados à aula. Use regex para extrair `lecture_id` do `classTitle` dentro de colchetes `[]`.                                                                                             |
| `total_time_watched`     | `period_end - period_start` da aula (Postgres). Converter para minutos ou horas decimais, conforme definido.                                                                                                                                                        |
| `avg_lecture_duration`   | Média de duração de todas as aulas da mesma disciplina (`subject_id`). Pode ser calculada com `AVG(period_end - period_start)` agrupando por `subject_id`.                                                                                                          |
| `avg_idle_duration`      | Média de tempo ocioso (em minutos) dos alunos em uma aula. É calculada com base na diferença entre o horário de lectureTabLastAccessed e o timestamp de cada evento registrado. Representa quanto tempo, em média, os alunos permaneceram inativos durante a aula.. |
| `avg_attention_span`     | `total_time_watched - avg_idle_duration`                                                                                                                                                                                                                            |
| `pct_enabled_camera`     | Percentual de usuários que ativaram a câmera durante a aula: `(num_users_com_camera / total_students) * 100`. Use `traces.event` com `onCamOn` ou equivalente, filtrando pelo `lecture_id` extraído dos colchetes.                                                  |
| `pct_enabled_mic`        | Igual ao `pct_enabled_camera`, mas para microfone (`onMicOn` ou equivalente).                                                                                                                                                                                       |
| `avg_cam_streaming_span` | Não altera por hora                                                                                                                                                                                                                                                 |
| `avg_mic_streaming_span` | Não altera por hora                                                                                                                                                                                                                                                 |
| `issued_at`              | Data/hora atual, formatada como `DD/MM/YYYY HH:mm`                                                                                                                                                                                                                  |
